# Contributor: Aleksey Bobylev <al.bobylev@gmail.com>
# Maintainer: Aleksey Bobylev <al.bobylev@gmail.com>
pkgname="keybinder"
pkgver="0.3.1"
pkgrel=0
pkgdesc="Library for registering global keyboard shortcuts"
url="https://github.com/kupferlauncher/keybinder"
arch="all"
license="GPL2"
makedepends="gtk+2.0-dev vala gobject-introspection-dev"
subpackages="$pkgname-dev $pkgname-doc"
source="https://github.com/kupferlauncher/keybinder/releases/download/v$pkgver/$pkgname-$pkgver.tar.gz"
options="!check"

prepare() {
	autoreconf -vif
}

build() {
	./configure \
		--prefix=/usr \
		--disable-python
	sed -i 's| -shared | -Wl,-Os,--as-needed\0|g' libtool
	make
}

package() {
	make DESTDIR="$pkgdir" install
}

sha512sums="aec4070b3d3b6c00900c3cb814e4b6a98beea09817eba3c3f7e6d5ce1ff68c091d183583f09b475e3e56bac67c94c1d912ebbe079dcece8195ac0ed9379d5f82  keybinder-0.3.1.tar.gz"
