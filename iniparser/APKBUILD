# Contributor: Aleksey Bobylev <al.bobylev@gmail.com>
# Maintainer: Aleksey Bobylev <al.bobylev@gmail.com>
pkgname="iniparser"
pkgver="4.1"
pkgrel=0
pkgdesc="Free stand-alone ini file parsing library"
url="http://ndevilla.free.fr/iniparser/"
arch="all"
license="MIT"
subpackages="$pkgname-dev $pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://github.com/ndevilla/iniparser/archive/v$pkgver.tar.gz
	no-rpath.patch"
options="!check"

build() {
	make
}

package() {
	mkdir -p "$pkgdir"/usr/lib "$pkgdir"/usr/include
	cp -a *.so*   "$pkgdir"/usr/lib
	ln -s libiniparser.so.1 "$pkgdir"/usr/lib/libiniparser.so
#	cp    *.*a    "$pkgdir"/usr/lib
	cp    src/*.h "$pkgdir"/usr/include

	docdir="$pkgdir"/usr/share/doc/$pkgname-$pkgver
	mkdir -p "$docdir"
	cp -r html/ AUTHORS README.md LICENSE FAQ* "$docdir"
}

sha512sums="a8125aaaead1f9dfde380fa1e45bae31ca2312be029f2c53b4072cb3b127d16578a95c7c0aee1e3dda5e7b8db7a865ba6dfe8a1d80eb673061b3babef744e968  iniparser-4.1.tar.gz
29d1829e67fd537e689c9f5f1f108f34612058f79ae486d2182788c75a49d7667041ff6242113c8ce531c7d85bc2a71565694faf46a65686b307f7ea99b022e4  no-rpath.patch"
